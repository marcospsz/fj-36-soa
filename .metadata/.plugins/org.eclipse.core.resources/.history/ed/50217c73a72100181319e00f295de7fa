package br.com.caelum.estoque.rmi;

import java.rmi.RemoteException;
import java.rmi.server.UnicastRemoteObject;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class EstoqueService extends UnicastRemoteObject 
                            implements EstoqueRMI{

	private static final long serialVersionUID = 9059955802637362132L;
	
	public	EstoqueService()	throws	RemoteException{
		repositorio.put("ARQ",	new	ItemEstoque("ARQ",	5));
		repositorio.put("SOA",	new	ItemEstoque("SOA",	2));
		repositorio.put("TDD",	new	ItemEstoque("TDD",	3));
		repositorio.put("RES",	new	ItemEstoque("RES",	4));
		repositorio.put("LOG",	new	ItemEstoque("LOG",	3));
		repositorio.put("WEB",	new	ItemEstoque("WEB",	4));
		
	}
	
	private Map<String, ItemEstoque> repositorio = new HashMap();

	@Override
	public List<ItemEstoque> getItemEstoque(List<String> codigos) {
		
		List<ItemEstoque> itens = new ArrayList<>() ;
		
		if(codigos == null || codigos.isEmpty()){
			
		}
		
		for(String codigo : codigos){
			
			if(repositorio.containsKey(codigo)){
				
				itens.add(repositorio.get(codigo));
			}
			
		}
		
		
		System.out.println("Verificando estoque do Produto: " + codigoProduto);
		
		
		
		return this.repositorio.get(codigoProduto);			
	}	
}
